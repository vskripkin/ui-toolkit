#ui()
{
	.button(
		@bg-color:     rgba(255,255,255,0),
		@color:        @button-color,
		@hover:        @button-hover-color-bg,
		@font-size:    @button-font-size,
		@padding-ver:  @button-padding-ver,
		@paddong-hor:  @button-padding-hor,
		@border-width: @button-border-width,
		@pre:          @button-class-prefix)
	{
		@hover-bg-color:  #ui.hover-bg(@hover, @bg-color)[result];
		@active-bg-color: #ui.active-bg(@hover-bg-color)[result];

		#ui-button.template(@font-size, @padding-ver, @paddong-hor, @border-width);
		#ui-button.sizes(@font-size, @pre);

		&
		{
			&, &::before, &::after { color: @color; }
			background-color: @bg-color;
		}
		&:hover
		{
			background-color: @hover-bg-color;
		}
		&:active
		{
			background-color: @active-bg-color;
		}
		&:disabled
		{
			&, &::before, &::after { color: @color !important; }
			background-color: @bg-color !important;

			opacity: @button-disabled-opacity !important;
			cursor:  @button-disabled-cursor;
		}


		.round()
		{
			&.@{pre}round
			{
				border-radius: 150px;
			}
		}
		.thin()
		{
			&.@{pre}thin
			{
				padding-left:  @padding-ver;
				padding-right: @padding-ver;
			}
		}
		.collapse()
		{
			&.@{pre}collapse
			{
				padding: 0;
				min-height: auto;
			}
		}
		.circle()
		{
			&.@{pre}circle
			{
				border-radius: 150px;
				padding-left:  @padding-ver;
				padding-right: @padding-ver;
			}
		}
		.loading()
		{
			&.@{pre}loading
			{
				pointer-events: none;
				color: transparent !important;

				&::after
				{
					content: '';
					display: table; // fix disproportions of width and height due to sub-pixel rounding bug
					position: absolute;
					z-index: 100;
					top:  50%;
					left: 50%;
					width:  auto;
					height: auto;
					width:  1.24em;
					height: 1.24em;
					margin-top:  -0.62em;
					margin-left: -0.62em;
					border-radius: 50%;
					border-width: 0.1837em;
					border-style: solid;
					border-color: currentColor transparent transparent currentColor;
					animation: rotateRight 1s infinite linear;

					.keyframes(rotateRight);
				}
			}
		}


		.invert(@class: invert)
		{
			@hover-type: if(iscolor(@hover), if(iscolor(@button-hover-color-bg), default, @button-hover-color-bg), @hover);
			@hover-bg-color:  #ui.hover-bg(@hover-type, @color)[result];
			@active-bg-color: #ui.active-bg(@hover-bg-color)[result];

			&.@{pre}@{class}
			{
				&, &::before, &::after { color: @bg-color; }
				background-color: @color;

				&:hover
				{
					background-color: @hover-bg-color;
				}
				&:active
				{
					background-color: @active-bg-color;
				}
				&:disabled
				{
					&, &::before, &::after { color: @bg-color !important; }
					background-color: @color !important;
				}
			}
		}


		.ghost(@class: ghost)
		{
			&.@{pre}@{class}
			{
				background-color: transparent;

				&:hover
				{
					background-color: @hover-bg-color;
				}
				&:active
				{
					background-color: @active-bg-color;
				}
				&:disabled
				{
					background-color: transparent !important;
				}
			}
		}
		.ghost-line(@class: ghost-line)
		{
			&.@{pre}@{class}
			{
				@border-color: fade(@color, alpha(@color) / 2 * 100);

				border-color: @border-color;
				background-color: transparent;

				&:hover
				{
					border-color: transparent;
					background-color: @hover-bg-color;
				}
				&:active
				{
					border-color: transparent;
					background-color: @active-bg-color;
				}
				&:disabled
				{
					border-color: @border-color !important;
					background-color: transparent !important;
				}
			}
		}

		.link(@class: link)
		{
			&.@{pre}@{class}
			{
				@hover-bg-color:  #ui.hover-bg(@hover, @color)[result];
				@active-bg-color: #ui.active-bg(@hover-bg-color)[result];

				&, &::before, &::after { color: @bg-color; }
				background-color: transparent;

				&:hover
				{
					background-color: @hover-bg-color;
				}
				&:active
				{
					background-color: @active-bg-color;
				}
				&:disabled
				{
					&, &::before, &::after { color: @bg-color !important; }
					background-color: transparent !important;
				}
			}
		}
		.link-line(@class: link-line)
		{
			&.@{pre}@{class}
			{
				@border-color: fade(@bg-color, alpha(@color) / 2 * 100);
				@hover-bg-color:  #ui.hover-bg(@hover, @color)[result];
				@active-bg-color: #ui.active-bg(@hover-bg-color)[result];

				&, &::before, &::after { color: @bg-color; }
				border-color: @border-color;
				background-color: transparent;

				&:hover
				{
					border-color: transparent;
					background-color: @hover-bg-color;
				}
				&:active
				{
					border-color: transparent;
					background-color: @active-bg-color;
				}
				&:disabled
				{
					&, &::before, &::after { color: @bg-color !important; }
					border-color: @border-color !important;
					background-color: transparent !important;
				}
			}
		}


		.ghost--const(@class: ghost--const)
		{
			&.@{pre}@{class}
			{
				background-color: transparent;

				&:hover
				{
					background-color: transparent;
				}
				&:active
				{
					&, &::before, &::after { color: #ui.hover-bg(@hover, @color)[result]; }
					background-color: transparent;
				}
				&:disabled
				{
					background-color: transparent !important;
				}
			}
		}
		.ghost-line--const(@class: ghost-line--const)
		{
			&.@{pre}@{class}
			{
				@border-color: fade(@color, alpha(@color) / 2 * 100);

				border-color: @border-color;
				background-color: transparent;

				&:hover
				{
					background-color: transparent;
				}
				&:active
				{
					&, &::before, &::after { color: #ui.hover-bg(@hover, @color)[result]; }
					border-color: currentColor;
					background-color: transparent;
				}
				&:disabled
				{
					border-color: @border-color !important;
					background-color: transparent !important;
				}
			}
		}
		.ghost--const-line(@class: ghost--const-line)
		{
			&.@{pre}@{class}
			{
				background-color: transparent;

				&:hover
				{
					border-color: currentColor;
					background-color: transparent;
				}
				&:active
				{
					&, &::before, &::after { color: #ui.hover-bg(@hover, @color)[result]; }
					border-color: currentColor;
					background-color: transparent;
				}
				&:disabled
				{
					background-color: transparent !important;
				}
			}
		}

		.link--const(@class: link--const)
		{
			&.@{pre}@{class}
			{
				&, &::before, &::after { color: @bg-color; }
				background-color: transparent;

				&:hover
				{
					background-color: transparent;
				}
				&:active
				{
					&, &::before, &::after { color: @hover-bg-color; }
					border-color: currentColor;
					background-color: transparent;
				}
				&:disabled
				{
					&, &::before, &::after { color: @bg-color !important; }
					background-color: transparent !important;
				}
			}
		}
		.link-line--const(@class: link-line--const)
		{
			&.@{pre}@{class}
			{
				@border-color: fade(@bg-color, alpha(@color) / 2 * 100);

				&, &::before, &::after { color: @bg-color; }
				border-color: @border-color;
				background-color: transparent;

				&:hover
				{
					background-color: transparent;
				}
				&:active
				{
					&, &::before, &::after { color: @hover-bg-color; }
					border-color: currentColor;
					background-color: transparent;
				}
				&:disabled
				{
					&, &::before, &::after { color: @bg-color !important; }
					border-color: @border-color !important;
					background-color: transparent !important;
				}
			}
		}
		.link--const-line(@class: link--const-line)
		{
			&.@{pre}@{class}
			{
				&, &::before, &::after { color: @bg-color; }
				background-color: transparent;

				&:hover
				{
					border-color: currentColor;
					background-color: transparent;
				}
				&:active
				{
					&, &::before, &::after { color: @hover-bg-color; }
					border-color: currentColor;
					background-color: transparent;
				}
				&:disabled
				{
					&, &::before, &::after { color: @bg-color !important; }
					background-color: transparent !important;
				}
			}
		}


		.ghost--font(@class: ghost--font)
		{
			&.@{pre}@{class}
			{
				background-color: transparent;

				&:hover
				{
					&, &::before, &::after { color: @hover-bg-color; }
				}
				&:active
				{
					&, &::before, &::after { color: @active-bg-color; }
				}
				&:disabled
				{
					background-color: transparent !important;
				}
			}
		}
		.ghost-line--font(@class: ghost-line--font)
		{
			&.@{pre}@{class}
			{
				@border-color: fade(@color, alpha(@color) / 2 * 100);

				border-color: @border-color;
				background-color: transparent;

				&:hover
				{
					&, &::before, &::after { color: @hover-bg-color; }
					border-color: currentColor;
				}
				&:active
				{
					&, &::before, &::after { color: @active-bg-color; }
					border-color: currentColor;
				}
				&:disabled
				{
					border-color: @border-color !important;
					background-color: transparent !important;
				}
			}
		}
		.ghost--font-line(@class: ghost--font-line)
		{
			&.@{pre}@{class}
			{
				background-color: transparent;

				&:hover
				{
					&, &::before, &::after { color: @hover-bg-color; }
					border-color: currentColor;
				}
				&:active
				{
					&, &::before, &::after { color: @active-bg-color; }
					border-color: currentColor;
				}
				&:disabled
				{
					border-color: transparent !important;
					background-color: transparent !important;
				}
			}
		}

		.link--font(@class: link--font)
		{
			&.@{pre}@{class}
			{
				@hover-bg-color:  #ui.hover-bg(@hover, @color)[result];
				@active-bg-color: #ui.active-bg(@hover-bg-color)[result];

				&, &::before, &::after { color: @bg-color; }
				background-color: transparent;

				&:hover
				{
					&, &::before, &::after { color: @hover-bg-color; }
				}
				&:active
				{
					&, &::before, &::after { color: @active-bg-color; }
				}
				&:disabled
				{
					&, &::before, &::after { color: @bg-color !important; }
					background-color: transparent !important;
				}
			}
		}
		.link-line--font(@class: link-line--font)
		{
			&.@{pre}@{class}
			{
				@border-color: fade(@bg-color, alpha(@color) / 2 * 100);
				@hover-bg-color:  #ui.hover-bg(@hover, @color)[result];
				@active-bg-color: #ui.active-bg(@hover-bg-color)[result];

				&, &::before, &::after { color: @bg-color; }
				border-color: @border-color;
				background-color: transparent;

				&:hover
				{
					&, &::before, &::after { color: @hover-bg-color; }
					border-color: currentColor;
				}
				&:active
				{
					&, &::before, &::after { color: @active-bg-color; }
					border-color: currentColor;
				}
				&:disabled
				{
					&, &::before, &::after { color: @bg-color !important; }
					border-color: @border-color !important;
					background-color: transparent !important;
				}
			}
		}
		.link--font-line(@class: link--font-line)
		{
			&.@{pre}@{class}
			{
				@hover-bg-color:  #ui.hover-bg(@hover, @color)[result];
				@active-bg-color: #ui.active-bg(@hover-bg-color)[result];

				&, &::before, &::after { color: @bg-color; }
				background-color: transparent;

				&:hover
				{
					&, &::before, &::after { color: @hover-bg-color; }
					border-color: currentColor;
				}
				&:active
				{
					&, &::before, &::after { color: @active-bg-color; }
					border-color: currentColor;
				}
				&:disabled
				{
					&, &::before, &::after { color: @bg-color !important; }
					border-color: transparent !important;
					background-color: transparent !important;
				}
			}
		}


		.ghost--bg(@class: ghost--bg)
		{
			&.@{pre}@{class}
			{
				@hover-bg-color:  #ui.hover-bg(@hover, @color)[result];
				@active-bg-color: #ui.active-bg(@hover-bg-color)[result];

				background-color: transparent;

				&:hover
				{
					&, &::before, &::after { color: @bg-color; }
					background-color: @hover-bg-color;
				}
				&:active
				{
					&, &::before, &::after { color: @bg-color; }
					background-color: @active-bg-color;
				}
				&:disabled
				{
					background-color: transparent !important;
				}
			}
		}
		.ghost-line--bg(@class: ghost-line--bg)
		{
			&.@{pre}@{class}
			{
				@border-color: fade(@color, alpha(@color) / 2 * 100);
				@hover-bg-color:  #ui.hover-bg(@hover, @color)[result];
				@active-bg-color: #ui.active-bg(@hover-bg-color)[result];

				border-color: @border-color;
				background-color: transparent;

				&:hover
				{
					&, &::before, &::after { color: @bg-color; }
					border-color: transparent;
					background-color: @hover-bg-color;
				}
				&:active
				{
					&, &::before, &::after { color: @bg-color; }
					border-color: transparent;
					background-color: @active-bg-color;
				}
				&:disabled
				{
					border-color: @border-color !important;
					background-color: transparent !important;
				}
			}
		}

		.link--bg(@class: link--bg)
		{
			&.@{pre}@{class}
			{
				&, &::before, &::after { color: @bg-color; }
				background-color: transparent;

				&:hover
				{
					&, &::before, &::after { color: @color; }
					background-color: @hover-bg-color;
				}
				&:active
				{
					&, &::before, &::after { color: @color; }
					background-color: @active-bg-color;
				}
				&:disabled
				{
					&, &::before, &::after { color: @bg-color !important; }
					background-color: transparent !important;
				}
			}
		}
		.link-line--bg(@class: link-line--bg)
		{
			&.@{pre}@{class}
			{
				@border-color: fade(@bg-color, alpha(@color) / 2 * 100);

				&, &::before, &::after { color: @bg-color; }
				border-color: @border-color;
				background-color: transparent;

				&:hover
				{
					&, &::before, &::after { color: @color; }
					border-color: transparent;
					background-color: @hover-bg-color;
				}
				&:active
				{
					&, &::before, &::after { color: @color; }
					border-color: transparent;
					background-color: @active-bg-color;
				}
				&:disabled
				{
					&, &::before, &::after { color: @bg-color !important; }
					border-color: @border-color !important;
					background-color: transparent !important;
				}
			}
		}
	}
}

#ui-button()
{
	.template(@font-size, @padding-ver, @padding-hor, @border-width)
	{
		@em: 2 * @padding-ver + 1em * @button-line-height;
		@px: 2 * @border-width;

		min-width:  calc(@em + @px);
		min-height: calc(@em + @px);
		padding:      @padding-ver @padding-hor;
		font-size:    @font-size;
		border-width: @border-width;
	}
	.template(...)
	{
		margin:         @button-margin;
		font-weight:    @button-font-weight;
		line-height:    @button-line-height;
		text-transform: @button-text-transform;
		border-radius:  @button-radius;
		border-style:   @button-border-style;

		display: inline-block;
		position: relative;
		overflow: hidden;
		vertical-align: middle;
		font-style: normal;
		text-align: center;
		text-decoration: none;
		border-color: transparent;
		background-clip: border-box;
		cursor: pointer;
		user-select: none;
		appearance: none;
		transition: color 0.1s cubic-bezier(0, 0, 0.2, 1),
					border-color 0.1s cubic-bezier(0, 0, 0.2, 1),
					background-color 0.2s cubic-bezier(0.25,0.8,0.25,1);

		// remove text-decoration for links
		&:hover
		{
			text-decoration: none;
		}
	}


	.sizes(@font-size, @prefix)
	{
		#ui.fs-sizes-mixins(@font-size, @prefix);
	}
}
