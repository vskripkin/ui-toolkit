#ui-grid-used-collect() { @grid: false; }

.use-grid()
{
	#ui-grid-used-collect() { @grid: true; }
}

#ui-grid-used
{
	.css() when (#ui-grid-used-collect()[])
	{
		#ui-grid-base-css.grid();
		#ui-grid-base-css.item();
	}
	.css(@bp-name) when (#ui-grid-used-collect()[])
	{
		#ui-grid-base-css.gaps(@break-points[@@bp-name][gap]);
	}
}


#ui-grid-base-collect(...) { @used: false; };

#ui-grid-base
{
	@props: inline, table, table-inline, collapse;


	.generate-css(@bp-class)
	{
		@props: #ui-grid-base[@props];

		each(@props, .(@prop)
		{
			& when (#ui-grid-base-collect(@bp-class, @prop)[] = true)
			{
				.@{bp-class}-@{prop}
				{
					#ui-grid-base-css.apply(@prop);
				}
			}
		});
	}

	.generate-mixins(@bp-class-up, @bp-class-down, @bp-class-only)
	{
		.@{bp-class-up}-inline
		{
			#ui-grid-base-collect(@bp, inline) when (@bp = @bp-class-up)
			{
				@used: true;
			}
		}
		.@{bp-class-down}-inline
		{
			#ui-grid-base-collect(@bp, inline) when (@bp = @bp-class-down)
			{
				@used: true;
			}
		}
		.@{bp-class-only}-inline
		{
			#ui-grid-base-collect(@bp, inline) when (@bp = @bp-class-only)
			{
				@used: true;
			}
		}

		.@{bp-class-up}-table
		{
			#ui-grid-base-collect(@bp, table) when (@bp = @bp-class-up)
			{
				@used: true;
			}
		}
		.@{bp-class-down}-table
		{
			#ui-grid-base-collect(@bp, table) when (@bp = @bp-class-down)
			{
				@used: true;
			}
		}
		.@{bp-class-only}-table
		{
			#ui-grid-base-collect(@bp, table) when (@bp = @bp-class-only)
			{
				@used: true;
			}
		}

		.@{bp-class-up}-table-inline
		{
			#ui-grid-base-collect(@bp, table-inline) when (@bp = @bp-class-up)
			{
				@used: true;
			}
		}
		.@{bp-class-down}-table-inline
		{
			#ui-grid-base-collect(@bp, table-inline) when (@bp = @bp-class-down)
			{
				@used: true;
			}
		}
		.@{bp-class-only}-table-inline
		{
			#ui-grid-base-collect(@bp, table-inline) when (@bp = @bp-class-only)
			{
				@used: true;
			}
		}

		.@{bp-class-up}-collapse
		{
			#ui-grid-base-collect(@bp, collapse) when (@bp = @bp-class-up)
			{
				@used: true;
			}
		}
		.@{bp-class-down}-collapse
		{
			#ui-grid-base-collect(@bp, collapse) when (@bp = @bp-class-down)
			{
				@used: true;
			}
		}
		.@{bp-class-only}-collapse
		{
			#ui-grid-base-collect(@bp, collapse) when (@bp = @bp-class-only)
			{
				@used: true;
			}
		}
	}
}
